<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GAUDIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ugfx_logo_doxygen.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">version 2.6</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___g_a_u_d_i_o.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GAUDIO</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Module to handle audio recording and play-back. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_event_audio_play__t.html">GEventAudioPlay_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Audio play event structure.  <a href="struct_g_event_audio_play__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_event_audio_record__t.html">GEventAudioRecord_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Audio record event structure.  <a href="struct_g_event_audio_record__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___g_a_u_d_i_o___driver___playback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o___driver___playback.html">Driver Playback</a></td></tr>
<tr class="memdesc:group___g_a_u_d_i_o___driver___playback"><td class="mdescLeft">&#160;</td><td class="mdescRight">Playback driver interface for the GAUDIO module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___g_a_u_d_i_o___driver___record"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o___driver___record.html">Driver Recording</a></td></tr>
<tr class="memdesc:group___g_a_u_d_i_o___driver___record"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recording driver interface for the GAUDIO module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7c144f2b48de77e2911069bad8931a2d"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga7c144f2b48de77e2911069bad8931a2d">gaudioPlayInit</a> (uint16_t channel, uint32_t frequency, <a class="el" href="group___g_m_i_s_c.html#gabe310d687fc9b37853197e445c087c16">ArrayDataFormat</a> format)</td></tr>
<tr class="memdesc:ga7c144f2b48de77e2911069bad8931a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the audio device to play on the specified channel and with the specified sample frequency.  <a href="#ga7c144f2b48de77e2911069bad8931a2d">More...</a><br /></td></tr>
<tr class="separator:ga7c144f2b48de77e2911069bad8931a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6cecea53625e94bfc08fe57a68e7043"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#gaf6cecea53625e94bfc08fe57a68e7043">gaudioPlay</a> (<a class="el" href="struct_g_data_buffer.html">GDataBuffer</a> *paud)</td></tr>
<tr class="memdesc:gaf6cecea53625e94bfc08fe57a68e7043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play the specified sample data.  <a href="#gaf6cecea53625e94bfc08fe57a68e7043">More...</a><br /></td></tr>
<tr class="separator:gaf6cecea53625e94bfc08fe57a68e7043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf55d9430bff680a0b1b552ee129d6bbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#gaf55d9430bff680a0b1b552ee129d6bbd">gaudioPlayPause</a> (void)</td></tr>
<tr class="memdesc:gaf55d9430bff680a0b1b552ee129d6bbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause any currently playing sounds.  <a href="#gaf55d9430bff680a0b1b552ee129d6bbd">More...</a><br /></td></tr>
<tr class="separator:gaf55d9430bff680a0b1b552ee129d6bbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga022a05213a17f6dd16935eb79e842cbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga022a05213a17f6dd16935eb79e842cbe">gaudioPlayStop</a> (void)</td></tr>
<tr class="memdesc:ga022a05213a17f6dd16935eb79e842cbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop any currently playing sounds.  <a href="#ga022a05213a17f6dd16935eb79e842cbe">More...</a><br /></td></tr>
<tr class="separator:ga022a05213a17f6dd16935eb79e842cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49a632389b9ccd634a7f19d7287760b6"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga49a632389b9ccd634a7f19d7287760b6">gaudioPlaySetVolume</a> (uint8_t vol)</td></tr>
<tr class="memdesc:ga49a632389b9ccd634a7f19d7287760b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output volume.  <a href="#ga49a632389b9ccd634a7f19d7287760b6">More...</a><br /></td></tr>
<tr class="separator:ga49a632389b9ccd634a7f19d7287760b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23e3cd2252c3f8c9aeb4addb9f1717e0"><td class="memItemLeft" align="right" valign="top">GSourceHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga23e3cd2252c3f8c9aeb4addb9f1717e0">gaudioPlayGetSource</a> (void)</td></tr>
<tr class="memdesc:ga23e3cd2252c3f8c9aeb4addb9f1717e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on sending results to the GEVENT sub-system.  <a href="#ga23e3cd2252c3f8c9aeb4addb9f1717e0">More...</a><br /></td></tr>
<tr class="separator:ga23e3cd2252c3f8c9aeb4addb9f1717e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33ff6971a93714fc3cb69edbf8bda53d"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga33ff6971a93714fc3cb69edbf8bda53d">gaudioPlayWait</a> (delaytime_t ms)</td></tr>
<tr class="memdesc:ga33ff6971a93714fc3cb69edbf8bda53d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for any currently playing sounds to complete.  <a href="#ga33ff6971a93714fc3cb69edbf8bda53d">More...</a><br /></td></tr>
<tr class="separator:ga33ff6971a93714fc3cb69edbf8bda53d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3263b85c4706f006960aa566a43134cc"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga3263b85c4706f006960aa566a43134cc">gaudioRecordInit</a> (uint16_t channel, uint32_t frequency, <a class="el" href="group___g_m_i_s_c.html#gabe310d687fc9b37853197e445c087c16">ArrayDataFormat</a> format)</td></tr>
<tr class="memdesc:ga3263b85c4706f006960aa566a43134cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise (but not start) the Audio Recording sub-system.  <a href="#ga3263b85c4706f006960aa566a43134cc">More...</a><br /></td></tr>
<tr class="separator:ga3263b85c4706f006960aa566a43134cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga446a606ca33e3bcbd32e73c34807703a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga446a606ca33e3bcbd32e73c34807703a">gaudioRecordStart</a> (void)</td></tr>
<tr class="memdesc:ga446a606ca33e3bcbd32e73c34807703a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the audio recording.  <a href="#ga446a606ca33e3bcbd32e73c34807703a">More...</a><br /></td></tr>
<tr class="separator:ga446a606ca33e3bcbd32e73c34807703a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga921ce6deba355e760b92981577c28f67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga921ce6deba355e760b92981577c28f67">gaudioRecordStop</a> (void)</td></tr>
<tr class="memdesc:ga921ce6deba355e760b92981577c28f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the audio recording.  <a href="#ga921ce6deba355e760b92981577c28f67">More...</a><br /></td></tr>
<tr class="separator:ga921ce6deba355e760b92981577c28f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5588ec9bdd3cd9f8d13da0fe1617a0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_g_data_buffer.html">GDataBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#gae5588ec9bdd3cd9f8d13da0fe1617a0a">gaudioRecordGetData</a> (delaytime_t ms)</td></tr>
<tr class="memdesc:gae5588ec9bdd3cd9f8d13da0fe1617a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a filled audio buffer from the recording list.  <a href="#gae5588ec9bdd3cd9f8d13da0fe1617a0a">More...</a><br /></td></tr>
<tr class="separator:gae5588ec9bdd3cd9f8d13da0fe1617a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf87d9da50beecc21f3805c9248062186"><td class="memItemLeft" align="right" valign="top">GSourceHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#gaf87d9da50beecc21f3805c9248062186">gaudioRecordGetSource</a> (void)</td></tr>
<tr class="memdesc:gaf87d9da50beecc21f3805c9248062186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on sending results to the GEVENT sub-system.  <a href="#gaf87d9da50beecc21f3805c9248062186">More...</a><br /></td></tr>
<tr class="separator:gaf87d9da50beecc21f3805c9248062186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga777bf617ac458a60ef2d752d5cf1a88b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_g_event_audio_play__t.html">GEventAudioPlay_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga777bf617ac458a60ef2d752d5cf1a88b">GEventAudioPlay</a></td></tr>
<tr class="memdesc:ga777bf617ac458a60ef2d752d5cf1a88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Audio play event structure.  <a href="#ga777bf617ac458a60ef2d752d5cf1a88b">More...</a><br /></td></tr>
<tr class="separator:ga777bf617ac458a60ef2d752d5cf1a88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga147088ec2e082fbb480b8368f8fd1495"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_g_event_audio_record__t.html">GEventAudioRecord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga147088ec2e082fbb480b8368f8fd1495">GEventAudioRecord</a></td></tr>
<tr class="memdesc:ga147088ec2e082fbb480b8368f8fd1495"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Audio record event structure.  <a href="#ga147088ec2e082fbb480b8368f8fd1495">More...</a><br /></td></tr>
<tr class="separator:ga147088ec2e082fbb480b8368f8fd1495"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
GAUDIO Functionality to be included</h2></td></tr>
<tr class="memitem:ga83a255ca81542f6c0e2bae69539f72e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#ga83a255ca81542f6c0e2bae69539f72e1">GAUDIO_NEED_PLAY</a>&#160;&#160;&#160;<a class="el" href="group___g_f_x.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ga83a255ca81542f6c0e2bae69539f72e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audio Play capability is needed.  <a href="#ga83a255ca81542f6c0e2bae69539f72e1">More...</a><br /></td></tr>
<tr class="separator:ga83a255ca81542f6c0e2bae69539f72e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb6e75088b6b3f89e60139479ecc6ff2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_u_d_i_o.html#gaeb6e75088b6b3f89e60139479ecc6ff2">GAUDIO_NEED_RECORD</a>&#160;&#160;&#160;<a class="el" href="group___g_f_x.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:gaeb6e75088b6b3f89e60139479ecc6ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audio Recording capability is needed.  <a href="#gaeb6e75088b6b3f89e60139479ecc6ff2">More...</a><br /></td></tr>
<tr class="separator:gaeb6e75088b6b3f89e60139479ecc6ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf6cecea53625e94bfc08fe57a68e7043"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaudioPlay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_data_buffer.html">GDataBuffer</a> *&#160;</td>
          <td class="paramname"><em>paud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play the specified sample data. </p>
<p>The sample data is output to the audio channel. On completion the buffer is returned to the free-list. </p><dl class="section pre"><dt>Precondition</dt><dd><code>gaudioPlayInit</code> must have been called first to set the channel and sample frequency.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">paud</td><td>The audio sample buffer to play. It can be NULL (used to restart paused audio)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling this will cancel any pause. </dd>
<dd>
Before calling this function the len field of the <a class="el" href="struct_g_data_buffer.html" title="A Data Buffer Queue. ">GDataBuffer</a> structure must be specified (in bytes). </dd>
<dd>
For stereo channels the sample data is interleaved in the buffer. </dd>
<dd>
This call returns before the data has completed playing. Subject to available buffers (which can be obtained from the free-list), any number of buffers may be played. They will be queued for playing in the order they are supplied to this routine and played when previous buffers are complete. In this way continuous playing can be obtained without audio gaps.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga23e3cd2252c3f8c9aeb4addb9f1717e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSourceHandle gaudioPlayGetSource </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn on sending results to the GEVENT sub-system. </p>
<p>Returns a GSourceHandle to listen for GEVENT_AUDIO_OUT events.</p>
<dl class="section note"><dt>Note</dt><dd>The audio output will not use the GEVENT system unless this is called first. This saves processing time if the application does not want to use the GEVENT sub-system for audio output. Once turned on it can only be turned off by calling <code><a class="el" href="group___g_a_u_d_i_o.html#ga7c144f2b48de77e2911069bad8931a2d" title="Set the audio device to play on the specified channel and with the specified sample frequency...">gaudioPlayInit()</a></code> again. </dd>
<dd>
The audio output is capable of signaling via this method and other methods at the same time.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The GSourceHandle</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7c144f2b48de77e2911069bad8931a2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t gaudioPlayInit </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_m_i_s_c.html#gabe310d687fc9b37853197e445c087c16">ArrayDataFormat</a>&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the audio device to play on the specified channel and with the specified sample frequency. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE is successful, FALSE if the driver doesn't accept those parameters.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The audio output channel to use. Can be set from 0 to GAUDIO_PLAY_NUM_CHANNELS - 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>The audio sample rate in samples per second </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>The audio sample format</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Some channels are mono, and some are stereo. See your driver config file to determine which channels to use and whether they are stereo or not. </dd>
<dd>
Only one channel can be playing at a time. Calling this will stop any currently playing channel.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf55d9430bff680a0b1b552ee129d6bbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaudioPlayPause </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause any currently playing sounds. </p>
<dl class="section note"><dt>Note</dt><dd>If nothing is currently playing this routine does nothing. To restart playing call <code><a class="el" href="group___g_a_u_d_i_o.html#gaf6cecea53625e94bfc08fe57a68e7043" title="Play the specified sample data. ">gaudioPlay()</a></code> with or without a new sample buffer. </dd>
<dd>
Some drivers will not respond until a buffer boundary.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga49a632389b9ccd634a7f19d7287760b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t gaudioPlaySetVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the output volume. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if successful.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>0-&gt;255 (0 = muted)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Some drivers may not support this. They will return FALSE. </dd>
<dd>
For stereo devices, both channels are set to the same volume.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga022a05213a17f6dd16935eb79e842cbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaudioPlayStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop any currently playing sounds. </p>
<dl class="section note"><dt>Note</dt><dd>This stops any playing sounds and returns any currently queued buffers back to the free-list. </dd>
<dd>
Some drivers will not respond until a buffer boundary.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga33ff6971a93714fc3cb69edbf8bda53d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t gaudioPlayWait </td>
          <td>(</td>
          <td class="paramtype">delaytime_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for any currently playing sounds to complete. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if there is now nothing playing or FALSE if the timeout is exceeded</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ms</td><td>The maximum amount of time in milliseconds to wait for playing to complete.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="gae5588ec9bdd3cd9f8d13da0fe1617a0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_g_data_buffer.html">GDataBuffer</a>* gaudioRecordGetData </td>
          <td>(</td>
          <td class="paramtype">delaytime_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a filled audio buffer from the recording list. </p>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="struct_g_data_buffer.html" title="A Data Buffer Queue. ">GDataBuffer</a> pointer or NULL if the timeout is exceeded</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ms</td><td>The maximum amount of time in milliseconds to wait for data if some is not currently available.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After processing the audio data, your application must return the buffer to the free-list so that it can be used to record more audio into. This can be done via the play list using <code><a class="el" href="group___g_a_u_d_i_o.html#gaf6cecea53625e94bfc08fe57a68e7043" title="Play the specified sample data. ">gaudioPlay()</a></code> or directly using <code>gfxBufferRelease()</code>. </dd>
<dd>
A buffer may be returned to the free-list before you have finished processing it provided you finish processing it before GADC re-uses it. This is useful when RAM usage is critical to reduce the number of buffers required. It works before the free list is a FIFO queue and therefore buffers are kept in the queue as long as possible before they are re-used.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf87d9da50beecc21f3805c9248062186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSourceHandle gaudioRecordGetSource </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn on sending results to the GEVENT sub-system. </p>
<p>Returns a GSourceHandle to listen for GEVENT_AUDIO_RECORD events.</p>
<dl class="section note"><dt>Note</dt><dd>Audio recording will not use the GEVENT system unless this is called first. This saves processing time if the application does not want to use the GEVENT sub-system for audio recording. Once turned on it can only be turned off by calling <code><a class="el" href="group___g_a_u_d_i_o.html#ga3263b85c4706f006960aa566a43134cc" title="Initialise (but not start) the Audio Recording sub-system. ">gaudioRecordInit()</a></code> again. </dd>
<dd>
The audio input is capable of signaling via this and other methods at the same time.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The GSourceHandle</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3263b85c4706f006960aa566a43134cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t gaudioRecordInit </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_m_i_s_c.html#gabe310d687fc9b37853197e445c087c16">ArrayDataFormat</a>&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise (but not start) the Audio Recording sub-system. </p>
<p>Returns FALSE for an invalid channel or other invalid parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The channel to convert. Can be set from 0 to GAUDIO_RECORD_NUM_CHANNELS - 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>The sample frequency </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>The audio sample format requested</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only one channel is active at a time. If an audio input is running it will be stopped. The Event subsystem is disconnected from the audio subsystem and any binary semaphore event is forgotten. </dd>
<dd>
Some channels may be stereo channels which return twice as much sample data with the left and right channel data interleaved. Other channels may be mono channels. Where stereo channels exist the low level driver may also offer the left and right channels separately. </dd>
<dd>
Due to a bug in Chibi-OS each buffer on the free-list must contain an even number of samples and for stereo devices it must hold a number of samples that is evenly divisible by 4. This requirement applies only to ChibiOS where the audio driver uses a ChibiOS hal driver like the cpu ADC driver. This applies even it is used indirectly via the uGFX GADC driver. </dd>
<dd>
The number of samples for stereo devices will be double the number of conversions. Make sure you allocate your buffers large enough. Each channel is then interleaved into the provided buffer.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>FALSE if invalid channel or parameter</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga446a606ca33e3bcbd32e73c34807703a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaudioRecordStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the audio recording. </p>
<dl class="section pre"><dt>Precondition</dt><dd>It must have been initialised first with <code><a class="el" href="group___g_a_u_d_i_o.html#ga3263b85c4706f006960aa566a43134cc" title="Initialise (but not start) the Audio Recording sub-system. ">gaudioRecordInit()</a></code> </dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<a class="anchor" id="ga921ce6deba355e760b92981577c28f67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaudioRecordStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the audio recording. </p>
<dl class="section note"><dt>Note</dt><dd>All audio recording data that has not yet been retrieved is automatically returned to the free-list. </dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads. </dd></dl>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga83a255ca81542f6c0e2bae69539f72e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAUDIO_NEED_PLAY&#160;&#160;&#160;<a class="el" href="group___g_f_x.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Audio Play capability is needed. </p>

<p>Definition at line <a class="el" href="gaudio__options_8h_source.html#l00027">27</a> of file <a class="el" href="gaudio__options_8h_source.html">gaudio_options.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb6e75088b6b3f89e60139479ecc6ff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAUDIO_NEED_RECORD&#160;&#160;&#160;<a class="el" href="group___g_f_x.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Audio Recording capability is needed. </p>

<p>Definition at line <a class="el" href="gaudio__options_8h_source.html#l00033">33</a> of file <a class="el" href="gaudio__options_8h_source.html">gaudio_options.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga777bf617ac458a60ef2d752d5cf1a88b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_g_event_audio_play__t.html">GEventAudioPlay_t</a>  <a class="el" href="group___g_a_u_d_i_o.html#ga777bf617ac458a60ef2d752d5cf1a88b">GEventAudioPlay</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Audio play event structure. </p>

</div>
</div>
<a class="anchor" id="ga147088ec2e082fbb480b8368f8fd1495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_g_event_audio_record__t.html">GEventAudioRecord_t</a>  <a class="el" href="group___g_a_u_d_i_o.html#ga147088ec2e082fbb480b8368f8fd1495">GEventAudioRecord</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Audio record event structure. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jul 28 2016 14:53:57 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
